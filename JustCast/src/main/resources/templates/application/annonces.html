<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Annonces</title>
    <link href="/css/accueilDC.css" rel="stylesheet">
     <script src ="/script/script.js"> </script>
</head>

<body>

    <div id="entete">
    	<p th:text="'Acteur - ' + ${session.nom} + ' ' + ${session.prenom} "/>
        <img src="https://justcast4.wordpress.com/wp-content/uploads/2024/05/image.png?w=300" alt="Logo JustCast">
        <p>JustCast - Accueil</p>
    </div>
    
    <div id="barre">
    	<div class="btn">
    		<p onclick="confirmLogout();">Se déconnecter</p>
    	</div>
    	<div class="btn">
    		<p onclick="mesInformations()">Mes informations</p>
    	</div>
    	<div class="btn">
    		<p onclick="lesAnnonces();">Les annonces</p>
    	</div>
    	<div class="btn">
    		<p onclick="emploiDuTemps()">mon emploi du temps</p>
    	</div>
    	<div class="btn">
    		<form id="accueil" action="/application/connexion" method="post">
    			<input type="hidden" name="role" th:value="${session.role}"/>
    			<input type="hidden" name="mail" th:value="${session.mail}"/>
    			<input type="hidden" name="mdp" th:value="${session.mdp}"/>
    			<p onclick="envoieForm('accueil')" name="submit">Accueil</p>
    		</form>
    	</div>
    </div>

    <table>
        <thead>
            <tr>
                <th>Film</th>
                <th>Role</th>
                <th>Age Min</th>
                <th>Age Max</th>
                <th>Sexe</th>
                <th>Répondre</th>
            </tr>
        </thead>
        <tbody>
            <tr th:each="casting, iterStat : ${castings}">
            	<form id="castingForm" action="/application/repondreAnnonce" method="post">
	                <td th:text="${casting.nomFilm}">Film Example</td>
	                <td th:text="${casting.role}">Role Example</td>
	                <td th:text="${casting.ageMin}">20</td>
	                <td th:text="${casting.ageMax}">30</td>
	                <td th:text="${casting.sexe}">H/F</td>
	                <!-- Champs de formulaire invisibles pour stocker les données -->
	                <input type="hidden" name="film" th:value="${casting.nomFilm}"/>
	                <input type="hidden" name="role" th:value="${casting.role}"/>
	                <input type="hidden" name="ageMin" th:value="${casting.ageMin}"/>
	                <input type="hidden" name="ageMax" th:value="${casting.ageMax}"/>
	                <input type="hidden" name="sexe" th:value="${casting.sexe}"/>
	                <input type="hidden" name="idCasting" th:value="${casting.id}"/>
	                <td><button type="submit" name="submit" value="Répondre">Répondre</button></td>
	               </form>
            </tr>
        </tbody>
    </table>
	
	
</body>

</html>